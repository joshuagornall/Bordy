{"mappings":"C,A,W,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,W,W,O,C,E,S,C,E,O,E,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,G,E,Q,S,C,C,C,E,E,E,O,C,e,W,O,C,E,S,C,E,O,E,C,GCRA,IAkCA,EAlCI,EAAY,CAAC,EAkCjB,EAjCA,SAA4B,CAAE,EAC5B,IAAI,EAAQ,CAAS,CAAC,EAAG,CAKzB,OAJK,IACH,EAAQ,AAKZ,WACE,GAAI,CACF,MAAM,AAAI,OACZ,CAAE,MAAO,EAAK,CACZ,IAAI,EAAW,AAAA,CAAA,GAAK,EAAI,KAAI,AAAJ,EAAO,KAAK,CAAC,oEACrC,GAAI,EAGF,MAMI,AAAA,CAAA,GANc,CAAO,CAAC,EAAE,AAMnB,EAAK,OAAO,CAAC,0EAA2E,MAAQ,GAJ7G,CACA,MAAO,GACT,IAhBI,CAAS,CAAC,EAAG,CAAG,GAEX,CACT,C,GCVA,AAAA,EAAA,SAAA,QAAA,CAA8C,AAAA,EAAA,SAAA,YAAA,CAA6C,SAAS,KAAK,KAAK,CAAC,iL,I,E,C,EEA/G,EAAiB,AAAA,EAAA,SAAA,YAAA,CAA6C,SAAW,kC,I,E,C,ECAzE,EAAiB,AAAA,EAAA,SAAA,YAAA,CAA6C,SAAW,k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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-4a18540cd2e4cc77.js","index.ts","node_modules/@parcel/runtime-js/lib/runtime-64867b8ef427a0b6.js","node_modules/@parcel/runtime-js/lib/runtime-07eba03f84d14c86.js","node_modules/@parcel/runtime-js/lib/runtime-cae0615e3041895f.js","src/render.ts","node_modules/copy-to-clipboard/index.js","node_modules/toggle-selection/index.js","src/state.ts","src/utils.ts"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireae31\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireae31\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"lGKbD\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", function () { return $fca158e7bc793dc7$export$6503ec6e8aabbaf; }, function (v) { return $fca158e7bc793dc7$export$6503ec6e8aabbaf = v; });\nvar $fca158e7bc793dc7$export$6503ec6e8aabbaf;\nvar $fca158e7bc793dc7$export$f7ad0328861e2f03;\n\"use strict\";\nvar $fca158e7bc793dc7$var$mapping = new Map();\nfunction $fca158e7bc793dc7$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$fca158e7bc793dc7$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $fca158e7bc793dc7$var$resolve(id) {\n    var resolved = $fca158e7bc793dc7$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$fca158e7bc793dc7$export$6503ec6e8aabbaf = $fca158e7bc793dc7$var$register;\n$fca158e7bc793dc7$export$f7ad0328861e2f03 = $fca158e7bc793dc7$var$resolve;\n\n});\n\nparcelRegister(\"17QCl\", function(module, exports) {\n\n$parcel$export(module.exports, \"getBundleURL\", function () { return $0d1f42a1cefd465e$export$bdfd709ae4826697; }, function (v) { return $0d1f42a1cefd465e$export$bdfd709ae4826697 = v; });\nvar $0d1f42a1cefd465e$export$bdfd709ae4826697;\nvar $0d1f42a1cefd465e$export$c9e73fbda7da57b6;\nvar $0d1f42a1cefd465e$export$5a759dc7a1cfb72a;\n\"use strict\";\nvar $0d1f42a1cefd465e$var$bundleURL = {};\nfunction $0d1f42a1cefd465e$var$getBundleURLCached(id) {\n    var value = $0d1f42a1cefd465e$var$bundleURL[id];\n    if (!value) {\n        value = $0d1f42a1cefd465e$var$getBundleURL();\n        $0d1f42a1cefd465e$var$bundleURL[id] = value;\n    }\n    return value;\n}\nfunction $0d1f42a1cefd465e$var$getBundleURL() {\n    try {\n        throw new Error();\n    } catch (err) {\n        var matches = (\"\" + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n        if (matches) // The first two stack frames will be this function and getBundleURLCached.\n        // Use the 3rd one, which will be a runtime in the original bundle.\n        return $0d1f42a1cefd465e$var$getBaseURL(matches[2]);\n    }\n    return \"/\";\n}\nfunction $0d1f42a1cefd465e$var$getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, \"$1\") + \"/\";\n}\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction $0d1f42a1cefd465e$var$getOrigin(url) {\n    var matches = (\"\" + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n    if (!matches) throw new Error(\"Origin not found\");\n    return matches[0];\n}\n$0d1f42a1cefd465e$export$bdfd709ae4826697 = $0d1f42a1cefd465e$var$getBundleURLCached;\n$0d1f42a1cefd465e$export$c9e73fbda7da57b6 = $0d1f42a1cefd465e$var$getBaseURL;\n$0d1f42a1cefd465e$export$5a759dc7a1cfb72a = $0d1f42a1cefd465e$var$getOrigin;\n\n});\n\nvar $15e0b0536098e47e$exports = {};\n\n\n(parcelRequire(\"lGKbD\")).register((parcelRequire(\"17QCl\")).getBundleURL(\"e0M7J\"), JSON.parse('[\"e0M7J\",\"index.6e63fa67.js\",\"hNqs3\",\"4.b7f0690e.png\",\"6dFNL\",\"1.6fdf6571.png\",\"gAros\",\"2.e3c532bb.png\"]'));\n\nvar $d7956d6ff1687a6e$exports = {};\n\n$d7956d6ff1687a6e$exports = (parcelRequire(\"17QCl\")).getBundleURL(\"e0M7J\") + \"1.6fdf6571.png\";\n\n\nvar $27171c54b76a1854$exports = {};\n\n$27171c54b76a1854$exports = (parcelRequire(\"17QCl\")).getBundleURL(\"e0M7J\") + \"2.e3c532bb.png\";\n\n\nvar $094b358704653867$exports = {};\n\n$094b358704653867$exports = (parcelRequire(\"17QCl\")).getBundleURL(\"e0M7J\") + \"4.b7f0690e.png\";\n\n\nvar $0f23d1886f02ec64$exports = {};\n\"use strict\";\nvar $ad8f2a4aa380ad99$exports = {};\n$ad8f2a4aa380ad99$exports = function() {\n    var selection = document.getSelection();\n    if (!selection.rangeCount) return function() {};\n    var active = document.activeElement;\n    var ranges = [];\n    for(var i = 0; i < selection.rangeCount; i++)ranges.push(selection.getRangeAt(i));\n    switch(active.tagName.toUpperCase()){\n        case \"INPUT\":\n        case \"TEXTAREA\":\n            active.blur();\n            break;\n        default:\n            active = null;\n            break;\n    }\n    selection.removeAllRanges();\n    return function() {\n        selection.type === \"Caret\" && selection.removeAllRanges();\n        if (!selection.rangeCount) ranges.forEach(function(range) {\n            selection.addRange(range);\n        });\n        active && active.focus();\n    };\n};\n\n\nvar $0f23d1886f02ec64$var$clipboardToIE11Formatting = {\n    \"text/plain\": \"Text\",\n    \"text/html\": \"Url\",\n    \"default\": \"Text\"\n};\nvar $0f23d1886f02ec64$var$defaultMessage = \"Copy to clipboard: #{key}, Enter\";\nfunction $0f23d1886f02ec64$var$format(message) {\n    var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\\u2318\" : \"Ctrl\") + \"+C\";\n    return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\nfunction $0f23d1886f02ec64$var$copy(text, options) {\n    var debug, message, reselectPrevious, range, selection, mark, success = false;\n    if (!options) options = {};\n    debug = options.debug || false;\n    try {\n        reselectPrevious = $ad8f2a4aa380ad99$exports();\n        range = document.createRange();\n        selection = document.getSelection();\n        mark = document.createElement(\"span\");\n        mark.textContent = text;\n        // avoid screen readers from reading out loud the text\n        mark.ariaHidden = \"true\";\n        // reset user styles for span element\n        mark.style.all = \"unset\";\n        // prevents scrolling to the end of the page\n        mark.style.position = \"fixed\";\n        mark.style.top = 0;\n        mark.style.clip = \"rect(0, 0, 0, 0)\";\n        // used to preserve spaces and line breaks\n        mark.style.whiteSpace = \"pre\";\n        // do not inherit user-select (it may be `none`)\n        mark.style.webkitUserSelect = \"text\";\n        mark.style.MozUserSelect = \"text\";\n        mark.style.msUserSelect = \"text\";\n        mark.style.userSelect = \"text\";\n        mark.addEventListener(\"copy\", function(e) {\n            e.stopPropagation();\n            if (options.format) {\n                e.preventDefault();\n                if (typeof e.clipboardData === \"undefined\") {\n                    debug && console.warn(\"unable to use e.clipboardData\");\n                    debug && console.warn(\"trying IE specific stuff\");\n                    window.clipboardData.clearData();\n                    var format = $0f23d1886f02ec64$var$clipboardToIE11Formatting[options.format] || $0f23d1886f02ec64$var$clipboardToIE11Formatting[\"default\"];\n                    window.clipboardData.setData(format, text);\n                } else {\n                    e.clipboardData.clearData();\n                    e.clipboardData.setData(options.format, text);\n                }\n            }\n            if (options.onCopy) {\n                e.preventDefault();\n                options.onCopy(e.clipboardData);\n            }\n        });\n        document.body.appendChild(mark);\n        range.selectNodeContents(mark);\n        selection.addRange(range);\n        var successful = document.execCommand(\"copy\");\n        if (!successful) throw new Error(\"copy command was unsuccessful\");\n        success = true;\n    } catch (err) {\n        debug && console.error(\"unable to copy using execCommand: \", err);\n        debug && console.warn(\"trying IE specific stuff\");\n        try {\n            window.clipboardData.setData(options.format || \"text\", text);\n            options.onCopy && options.onCopy(window.clipboardData);\n            success = true;\n        } catch (err) {\n            debug && console.error(\"unable to copy using clipboardData: \", err);\n            debug && console.error(\"falling back to prompt\");\n            message = $0f23d1886f02ec64$var$format(\"message\" in options ? options.message : $0f23d1886f02ec64$var$defaultMessage);\n            window.prompt(message, text);\n        }\n    } finally{\n        if (selection) {\n            if (typeof selection.removeRange == \"function\") selection.removeRange(range);\n            else selection.removeAllRanges();\n        }\n        if (mark) document.body.removeChild(mark);\n        reselectPrevious();\n    }\n    return success;\n}\n$0f23d1886f02ec64$exports = $0f23d1886f02ec64$var$copy;\n\n\nvar $baaae6ee11f4b917$export$dea52d477af4398a = 7;\nvar $baaae6ee11f4b917$export$a104aba81ad9a911 = 16;\n\n\n\nfunction $6c182388e9a195e9$var$newCell() {\n    return Array.from({\n        length: (0, $baaae6ee11f4b917$export$dea52d477af4398a)\n    }, ()=>new Array((0, $baaae6ee11f4b917$export$dea52d477af4398a)).fill(0));\n}\nfunction $6c182388e9a195e9$export$c4a92aea75303471() {\n    return Array.from({\n        length: 3\n    }, ()=>Array.from({\n            length: 3\n        }, ()=>$6c182388e9a195e9$var$newCell()));\n}\nfunction $6c182388e9a195e9$export$3c5f89dae98e900b(min, max) {\n    if (max === undefined) {\n        max = min;\n        min = 0;\n    }\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n}\nfunction $6c182388e9a195e9$export$f7b710b55200451() {\n    return [\n        $6c182388e9a195e9$export$3c5f89dae98e900b(3),\n        $6c182388e9a195e9$export$3c5f89dae98e900b(3),\n        $6c182388e9a195e9$export$3c5f89dae98e900b((0, $baaae6ee11f4b917$export$dea52d477af4398a)),\n        $6c182388e9a195e9$export$3c5f89dae98e900b((0, $baaae6ee11f4b917$export$dea52d477af4398a))\n    ];\n}\nfunction $6c182388e9a195e9$export$1a0f41b42df608b4([x, y]) {\n    let gridSize = 3 * (0, $baaae6ee11f4b917$export$dea52d477af4398a);\n    return [\n        gridSize - y,\n        x\n    ];\n}\nfunction $6c182388e9a195e9$export$7b2d291483575ad6([x, y], n = 1) {\n    let gridSize = 3 * (0, $baaae6ee11f4b917$export$dea52d477af4398a) - 1;\n    return [\n        [\n            x,\n            y\n        ],\n        [\n            gridSize - y,\n            x\n        ],\n        [\n            gridSize - x,\n            gridSize - y\n        ],\n        [\n            y,\n            gridSize - x\n        ]\n    ];\n}\nfunction $6c182388e9a195e9$export$1e9173ebc1b84b(map, loc) {\n    let result = loc.reduce((acc, val)=>acc[val], map);\n    return typeof result === \"number\" ? result : 0;\n}\nfunction $6c182388e9a195e9$export$3a11e1dabd3874c7(map, loc, v = 1) {\n    let target = map;\n    for(let i = 0; i < loc.length - 1; i++)target = target[loc[i]];\n    if (Array.isArray(target) && typeof loc[loc.length - 1] === \"number\") target[loc[loc.length - 1]] = v;\n    else throw new Error(\"Invalid location or target array\");\n}\n\n\n\nconst $88bf2e0188ca46c3$var$target = document.getElementById(\"target\");\nconst $88bf2e0188ca46c3$var$canvas = document.getElementById(\"editor\");\nconst $88bf2e0188ca46c3$var$guideCanvas = document.getElementById(\"guide\");\nconst $88bf2e0188ca46c3$var$renderCanvas = document.getElementById(\"render\");\nconst $88bf2e0188ca46c3$var$ctx = $88bf2e0188ca46c3$var$canvas.getContext(\"2d\");\nconst $88bf2e0188ca46c3$var$guideCtx = $88bf2e0188ca46c3$var$guideCanvas.getContext(\"2d\");\nconst $88bf2e0188ca46c3$var$renderCtx = $88bf2e0188ca46c3$var$renderCanvas.getContext(\"2d\");\nif (!$88bf2e0188ca46c3$var$ctx || !$88bf2e0188ca46c3$var$renderCtx || !$88bf2e0188ca46c3$var$guideCtx) throw new Error(\"Canvas context could not be retrieved\");\n$88bf2e0188ca46c3$var$renderCtx.imageSmoothingEnabled = false;\nfunction $88bf2e0188ca46c3$export$e62d9f5f4a94939() {\n    $88bf2e0188ca46c3$var$ctx.clearRect(0, 0, $88bf2e0188ca46c3$var$canvas.width, $88bf2e0188ca46c3$var$canvas.height);\n}\nfunction $88bf2e0188ca46c3$export$fe4501d50e7230de(map, pixelRatio) {\n    $88bf2e0188ca46c3$var$renderCtx.fill();\n    for(let sx = 0; sx < 3; sx++)for(let sy = 0; sy < 3; sy++){\n        for(let cx = 0; cx < (0, $baaae6ee11f4b917$export$dea52d477af4398a); cx++)for(let cy = 0; cy < (0, $baaae6ee11f4b917$export$dea52d477af4398a); cy++){\n            const v = (0, $6c182388e9a195e9$export$1e9173ebc1b84b)(map, [\n                sx,\n                sy,\n                cx,\n                cy\n            ]);\n            const fillColor = v === 1 ? (0, $eee667a316f6f5cc$export$b72e390a9ebe1648).paintColor : \"#fff0\";\n            $88bf2e0188ca46c3$var$ctx.fillStyle = fillColor;\n            $88bf2e0188ca46c3$var$renderCtx.fillStyle = fillColor;\n            const gridX = (sx * (0, $baaae6ee11f4b917$export$dea52d477af4398a) + cx) * pixelRatio;\n            const gridY = (sy * (0, $baaae6ee11f4b917$export$dea52d477af4398a) + cy) * pixelRatio;\n            if (!(sx === 1 && sy === 1)) {\n                $88bf2e0188ca46c3$var$renderCtx.clearRect(gridX, gridY, pixelRatio, pixelRatio);\n                $88bf2e0188ca46c3$var$renderCtx.fillRect(gridX, gridY, pixelRatio, pixelRatio);\n                const adjustedGridX = gridX * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) / pixelRatio;\n                const adjustedGridY = gridY * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) / pixelRatio;\n                $88bf2e0188ca46c3$var$ctx.fillRect(adjustedGridX + 1, adjustedGridY + 1, (0, $baaae6ee11f4b917$export$a104aba81ad9a911) - 1, (0, $baaae6ee11f4b917$export$a104aba81ad9a911) - 1);\n            }\n        }\n    }\n    $88bf2e0188ca46c3$var$renderVector(map, pixelRatio);\n}\nfunction $88bf2e0188ca46c3$export$63c28330e45c2ae4() {\n    for(let index = 1; index < 3; index++){\n        $88bf2e0188ca46c3$var$guideCtx.strokeStyle = \"#33f\";\n        $88bf2e0188ca46c3$var$guideCtx.lineWidth = 0.5;\n        let x = index * $88bf2e0188ca46c3$var$canvas.width / 3;\n        $88bf2e0188ca46c3$var$guideCtx.beginPath();\n        $88bf2e0188ca46c3$var$guideCtx.moveTo(x, 0);\n        $88bf2e0188ca46c3$var$guideCtx.lineTo(x, $88bf2e0188ca46c3$var$canvas.height);\n        $88bf2e0188ca46c3$var$guideCtx.stroke();\n        $88bf2e0188ca46c3$var$guideCtx.beginPath();\n        $88bf2e0188ca46c3$var$guideCtx.moveTo(0, x);\n        $88bf2e0188ca46c3$var$guideCtx.lineTo($88bf2e0188ca46c3$var$canvas.height, x);\n        $88bf2e0188ca46c3$var$guideCtx.stroke();\n    }\n    for(let index = 0.0; index < 3 * (0, $baaae6ee11f4b917$export$dea52d477af4398a); index++){\n        $88bf2e0188ca46c3$var$guideCtx.strokeStyle = \"#ccc\";\n        let x = index * $88bf2e0188ca46c3$var$canvas.width / (3 * (0, $baaae6ee11f4b917$export$dea52d477af4398a));\n        $88bf2e0188ca46c3$var$guideCtx.beginPath();\n        $88bf2e0188ca46c3$var$guideCtx.moveTo(x, 0);\n        $88bf2e0188ca46c3$var$guideCtx.lineTo(x, $88bf2e0188ca46c3$var$canvas.height);\n        $88bf2e0188ca46c3$var$guideCtx.stroke();\n        $88bf2e0188ca46c3$var$guideCtx.beginPath();\n        $88bf2e0188ca46c3$var$guideCtx.moveTo(0, x);\n        $88bf2e0188ca46c3$var$guideCtx.lineTo($88bf2e0188ca46c3$var$canvas.height, x);\n        $88bf2e0188ca46c3$var$guideCtx.stroke();\n    }\n    let third = $88bf2e0188ca46c3$var$canvas.width / 3;\n    $88bf2e0188ca46c3$var$guideCtx.clearRect(third + 1, third + 1, third - 2, third - 2);\n    $88bf2e0188ca46c3$var$guideCtx.beginPath();\n    $88bf2e0188ca46c3$var$guideCtx.moveTo(third * 1, third * 2);\n    $88bf2e0188ca46c3$var$guideCtx.lineTo(third * 2, third * 1);\n    $88bf2e0188ca46c3$var$guideCtx.stroke();\n    $88bf2e0188ca46c3$var$guideCtx.beginPath();\n    $88bf2e0188ca46c3$var$guideCtx.moveTo(third * 1, third * 1);\n    $88bf2e0188ca46c3$var$guideCtx.lineTo(third * 2, third * 2);\n    $88bf2e0188ca46c3$var$guideCtx.stroke();\n}\nfunction $88bf2e0188ca46c3$export$df6de19f3e6baa52(map, pixelRatio) {\n    let dataURI = $88bf2e0188ca46c3$var$renderVector(map, pixelRatio);\n    let style = document.getElementById(\"border-style\");\n    if (style) style.remove();\n    style = document.createElement(\"style\");\n    style.id = \"border-style\";\n    document.head.appendChild(style);\n    if (!style.sheet) throw new Error(\"Style sheet could not be retrieved\");\n    let viewsize = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * pixelRatio;\n    let css = `.bordy {\n    border-image:  url(\"${dataURI}\") ${viewsize} /  ${viewsize}px / 0 round;\n    border-width:  ${viewsize}px;\n    border-style:  solid;\n}`;\n    style.sheet.insertRule(css);\n    $88bf2e0188ca46c3$var$target.textContent = css;\n}\nfunction $88bf2e0188ca46c3$var$svgToDataURL(svgStr) {\n    const encoded = encodeURIComponent(svgStr).replace(/'/g, \"%27\").replace(/\"/g, \"%22\");\n    const header = \"data:image/svg+xml,\";\n    const dataUrl = header + encoded;\n    return dataUrl;\n}\nfunction $88bf2e0188ca46c3$var$renderVector(map, pixelRatio) {\n    let content = `<svg \n      width=\"${(0, $baaae6ee11f4b917$export$dea52d477af4398a) * pixelRatio * 3}px\"\n      height=\"${(0, $baaae6ee11f4b917$export$dea52d477af4398a) * pixelRatio * 3}px\"\n      viewBox=\"0 0 ${(0, $baaae6ee11f4b917$export$dea52d477af4398a) * pixelRatio * 3} ${(0, $baaae6ee11f4b917$export$dea52d477af4398a) * pixelRatio * 3}\" \n      fill=\"${(0, $eee667a316f6f5cc$export$b72e390a9ebe1648).paintColor}\"\n      stroke=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      >`;\n    for(let sx = 0; sx < 3; sx++)for(let sy = 0; sy < 3; sy++){\n        for(let cx = 0; cx < (0, $baaae6ee11f4b917$export$dea52d477af4398a); cx++)for(let cy = 0; cy < (0, $baaae6ee11f4b917$export$dea52d477af4398a); cy++){\n            let v = (0, $6c182388e9a195e9$export$1e9173ebc1b84b)(map, [\n                sx,\n                sy,\n                cx,\n                cy\n            ]);\n            let gridX = (sx * (0, $baaae6ee11f4b917$export$dea52d477af4398a) + cx) * pixelRatio;\n            let gridY = (sy * (0, $baaae6ee11f4b917$export$dea52d477af4398a) + cy) * pixelRatio;\n            if (sx == 1 && sy == 1) continue;\n            if (v == 1) content += `<rect x=\"${gridX}\" y=\"${gridY}\" width=\"${pixelRatio}px\" height=\"${pixelRatio}px\"/>`;\n        }\n    }\n    content += \"</svg>\";\n    let dataURI = $88bf2e0188ca46c3$var$svgToDataURL(content);\n    return dataURI;\n}\nfunction $88bf2e0188ca46c3$export$2ed6d5ab9f430f6b(map, loc) {\n    let x = loc[0] * (0, $baaae6ee11f4b917$export$dea52d477af4398a) + loc[2];\n    let y = loc[1] * (0, $baaae6ee11f4b917$export$dea52d477af4398a) + loc[3];\n    $88bf2e0188ca46c3$var$ctx.fillStyle = (0, $6c182388e9a195e9$export$1e9173ebc1b84b)(map, loc) == 1 ? \"#dde\" : \"#dde\";\n    if (loc[0] == 1 && loc[1] == 1) return;\n    $88bf2e0188ca46c3$var$ctx.fillRect(x * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) + 0, y * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) + 0, (0, $baaae6ee11f4b917$export$a104aba81ad9a911) - 0, (0, $baaae6ee11f4b917$export$a104aba81ad9a911) - 0);\n}\n$88bf2e0188ca46c3$var$target.addEventListener(\"click\", $88bf2e0188ca46c3$var$copyTarget);\nfunction $88bf2e0188ca46c3$var$resetCopy() {\n    $88bf2e0188ca46c3$var$target.setAttribute(\"data-after\", \"[Click to copy]\");\n}\n$88bf2e0188ca46c3$var$resetCopy();\nfunction $88bf2e0188ca46c3$var$copyTarget() {\n    const textToCopy = $88bf2e0188ca46c3$var$target.textContent || \"\";\n    (0, (/*@__PURE__*/$parcel$interopDefault($0f23d1886f02ec64$exports)))(textToCopy, {\n        message: \"Press #{key} to copy css\"\n    });\n    $88bf2e0188ca46c3$var$target.setAttribute(\"data-after\", \"Copied to your clipboard!\");\n    $88bf2e0188ca46c3$var$target.classList.remove(\"flash\");\n    window.setTimeout(()=>{\n        $88bf2e0188ca46c3$var$target.classList.add(\"flash\");\n    }, 1);\n    window.setTimeout($88bf2e0188ca46c3$var$resetCopy, 2500);\n}\n\n\n\n\nconst $eee667a316f6f5cc$var$penElement = document.getElementById(\"pen\");\nconst $eee667a316f6f5cc$var$eraserElement = document.getElementById(\"eraser\");\nconst $eee667a316f6f5cc$var$symmetryElement = document.getElementById(\"symmetry\");\nconst $eee667a316f6f5cc$var$undoElement = document.getElementById(\"undo\");\nconst $eee667a316f6f5cc$var$scaleElement = document.getElementById(\"scale\");\nconst $eee667a316f6f5cc$var$colorPicker = document.getElementById(\"color\");\nconst $eee667a316f6f5cc$var$frame = document.getElementById(\"editor-frame\");\nconst $eee667a316f6f5cc$var$canvas = document.getElementById(\"editor\");\nconst $eee667a316f6f5cc$var$guideCanvas = document.getElementById(\"guide\");\nconst $eee667a316f6f5cc$var$renderCanvas = document.getElementById(\"render\");\n$eee667a316f6f5cc$var$canvas.width = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) * 3;\n$eee667a316f6f5cc$var$canvas.height = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) * 3;\n$eee667a316f6f5cc$var$guideCanvas.width = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) * 3;\n$eee667a316f6f5cc$var$guideCanvas.height = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * (0, $baaae6ee11f4b917$export$a104aba81ad9a911) * 3;\nlet $eee667a316f6f5cc$var$sizeIndex = 2;\nconst $eee667a316f6f5cc$var$sizeList = [\n    1,\n    2,\n    4\n];\nconst $eee667a316f6f5cc$var$pngList = [\n    (0, (/*@__PURE__*/$parcel$interopDefault($d7956d6ff1687a6e$exports))),\n    (0, (/*@__PURE__*/$parcel$interopDefault($27171c54b76a1854$exports))),\n    (0, (/*@__PURE__*/$parcel$interopDefault($094b358704653867$exports)))\n];\nlet $eee667a316f6f5cc$var$pixelRatio = $eee667a316f6f5cc$var$sizeList[$eee667a316f6f5cc$var$sizeIndex];\nlet $eee667a316f6f5cc$var$lastTouchEnd = 0;\n$eee667a316f6f5cc$var$renderCanvas.width = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * $eee667a316f6f5cc$var$pixelRatio * 3;\n$eee667a316f6f5cc$var$renderCanvas.height = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * $eee667a316f6f5cc$var$pixelRatio * 3;\n$eee667a316f6f5cc$var$scaleElement.addEventListener(\"click\", ()=>{\n    $eee667a316f6f5cc$var$sizeIndex = ($eee667a316f6f5cc$var$sizeIndex + 1) % $eee667a316f6f5cc$var$sizeList.length;\n    $eee667a316f6f5cc$var$scaleElement.src = $eee667a316f6f5cc$var$pngList[$eee667a316f6f5cc$var$sizeIndex];\n    $eee667a316f6f5cc$var$pixelRatio = $eee667a316f6f5cc$var$sizeList[$eee667a316f6f5cc$var$sizeIndex];\n    $eee667a316f6f5cc$var$renderCanvas.width = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * $eee667a316f6f5cc$var$pixelRatio * 3;\n    $eee667a316f6f5cc$var$renderCanvas.height = (0, $baaae6ee11f4b917$export$dea52d477af4398a) * $eee667a316f6f5cc$var$pixelRatio * 3;\n    (0, $88bf2e0188ca46c3$export$fe4501d50e7230de)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n    (0, $88bf2e0188ca46c3$export$df6de19f3e6baa52)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n    $eee667a316f6f5cc$var$updateFrameHeight();\n});\nconst $eee667a316f6f5cc$export$b72e390a9ebe1648 = {\n    paintColor: \"#000000\"\n};\nif ($eee667a316f6f5cc$var$colorPicker) $eee667a316f6f5cc$var$colorPicker.addEventListener(\"input\", (e)=>{\n    const input = e.target;\n    $eee667a316f6f5cc$export$b72e390a9ebe1648.paintColor = input.value;\n    (0, $88bf2e0188ca46c3$export$fe4501d50e7230de)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n    (0, $88bf2e0188ca46c3$export$df6de19f3e6baa52)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n});\nelse console.error(\"Color picker element not found\");\nfunction $eee667a316f6f5cc$var$updateFrameHeight() {\n    $eee667a316f6f5cc$var$frame.style.height = `${$eee667a316f6f5cc$var$canvas.getBoundingClientRect().width}px`;\n}\ndocument.addEventListener(\"DOMContentLoaded\", $eee667a316f6f5cc$var$updateFrameHeight);\nwindow.addEventListener(\"resize\", $eee667a316f6f5cc$var$updateFrameHeight);\nlet $eee667a316f6f5cc$var$isDown = false;\nlet $eee667a316f6f5cc$var$isErasing = false;\nlet $eee667a316f6f5cc$var$rotationalSymmetry = true;\n$eee667a316f6f5cc$var$symmetryElement.addEventListener(\"click\", ()=>{\n    $eee667a316f6f5cc$var$rotationalSymmetry = !$eee667a316f6f5cc$var$rotationalSymmetry;\n    $eee667a316f6f5cc$var$symmetryElement.classList.toggle(\"selected\");\n});\n$eee667a316f6f5cc$var$eraserElement.addEventListener(\"click\", ()=>{\n    $eee667a316f6f5cc$var$isErasing = true;\n    $eee667a316f6f5cc$var$eraserElement.classList.add(\"selected\");\n    $eee667a316f6f5cc$var$penElement.classList.remove(\"selected\");\n});\n$eee667a316f6f5cc$var$penElement.addEventListener(\"click\", ()=>{\n    $eee667a316f6f5cc$var$isErasing = false;\n    $eee667a316f6f5cc$var$penElement.classList.add(\"selected\");\n    $eee667a316f6f5cc$var$eraserElement.classList.remove(\"selected\");\n});\nlet $eee667a316f6f5cc$var$map = (0, $6c182388e9a195e9$export$c4a92aea75303471)();\nlet $eee667a316f6f5cc$var$undoStack = [\n    JSON.stringify($eee667a316f6f5cc$var$map)\n];\nfunction $eee667a316f6f5cc$var$pushUndo() {\n    const candidate = JSON.stringify($eee667a316f6f5cc$var$map);\n    const top = $eee667a316f6f5cc$var$undoStack[$eee667a316f6f5cc$var$undoStack.length - 1];\n    if (candidate === top) return;\n    $eee667a316f6f5cc$var$undoStack.push(candidate);\n    if ($eee667a316f6f5cc$var$undoStack.length > 50) $eee667a316f6f5cc$var$undoStack.shift();\n    $eee667a316f6f5cc$var$undoElement.classList.add(\"selected\");\n}\nfunction $eee667a316f6f5cc$var$popUndo() {\n    $eee667a316f6f5cc$var$undoStack.pop();\n    const old = $eee667a316f6f5cc$var$undoStack[$eee667a316f6f5cc$var$undoStack.length - 1];\n    if (old) {\n        $eee667a316f6f5cc$var$map = JSON.parse(old);\n        (0, $88bf2e0188ca46c3$export$e62d9f5f4a94939)();\n        (0, $88bf2e0188ca46c3$export$fe4501d50e7230de)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n        (0, $88bf2e0188ca46c3$export$df6de19f3e6baa52)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n    }\n}\n$eee667a316f6f5cc$var$undoElement.addEventListener(\"click\", (event)=>{\n    $eee667a316f6f5cc$var$popUndo();\n    if ($eee667a316f6f5cc$var$undoStack.length < 2) $eee667a316f6f5cc$var$undoElement.classList.remove(\"selected\");\n    event.preventDefault();\n});\n(0, $88bf2e0188ca46c3$export$63c28330e45c2ae4)();\n(0, $88bf2e0188ca46c3$export$fe4501d50e7230de)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n(0, $88bf2e0188ca46c3$export$df6de19f3e6baa52)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\nfunction $eee667a316f6f5cc$var$draw(loc, v) {\n    if ($eee667a316f6f5cc$var$isDown) (0, $6c182388e9a195e9$export$3a11e1dabd3874c7)($eee667a316f6f5cc$var$map, loc, 1 - v);\n}\nfunction $eee667a316f6f5cc$var$handleEvent(event, isClick = false, isHover = false) {\n    const { left: left, top: top, width: width, height: height } = $eee667a316f6f5cc$var$canvas.getBoundingClientRect();\n    const x = event.clientX - left;\n    const y = event.clientY - top;\n    const canvasX = x / width * $eee667a316f6f5cc$var$canvas.width;\n    const canvasY = y / height * $eee667a316f6f5cc$var$canvas.height;\n    const gridX = Math.floor(canvasX / (0, $baaae6ee11f4b917$export$a104aba81ad9a911));\n    const gridY = Math.floor(canvasY / (0, $baaae6ee11f4b917$export$a104aba81ad9a911));\n    const rotatePairs = $eee667a316f6f5cc$var$rotationalSymmetry ? (0, $6c182388e9a195e9$export$7b2d291483575ad6)([\n        gridX,\n        gridY\n    ]) : [\n        [\n            gridX,\n            gridY\n        ]\n    ];\n    (0, $88bf2e0188ca46c3$export$e62d9f5f4a94939)();\n    rotatePairs.forEach(([gX, gY])=>{\n        const sx = Math.floor(gX / (0, $baaae6ee11f4b917$export$dea52d477af4398a));\n        const sy = Math.floor(gY / (0, $baaae6ee11f4b917$export$dea52d477af4398a));\n        const cx = gX % (0, $baaae6ee11f4b917$export$dea52d477af4398a);\n        const cy = gY % (0, $baaae6ee11f4b917$export$dea52d477af4398a);\n        const loc = [\n            sx,\n            sy,\n            cx,\n            cy\n        ];\n        if (sx < 0 || sx > 2 || sy < 0 || sy > 2) return;\n        if (isHover) (0, $88bf2e0188ca46c3$export$2ed6d5ab9f430f6b)($eee667a316f6f5cc$var$map, loc);\n        let v = (0, $6c182388e9a195e9$export$1e9173ebc1b84b)($eee667a316f6f5cc$var$map, loc);\n        if (!isClick) v = 0;\n        if ($eee667a316f6f5cc$var$isErasing) v = 1;\n        $eee667a316f6f5cc$var$draw(loc, v);\n    });\n    (0, $88bf2e0188ca46c3$export$fe4501d50e7230de)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n    setTimeout(()=>(0, $88bf2e0188ca46c3$export$df6de19f3e6baa52)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio), 0);\n}\n$eee667a316f6f5cc$var$canvas.addEventListener(\"mousedown\", (event)=>{\n    $eee667a316f6f5cc$var$isDown = true;\n    $eee667a316f6f5cc$var$handleEvent(event, true);\n});\n$eee667a316f6f5cc$var$canvas.addEventListener(\"mousemove\", (event)=>{\n    $eee667a316f6f5cc$var$handleEvent(event, false, true);\n});\n$eee667a316f6f5cc$var$canvas.addEventListener(\"mouseout\", ()=>{\n    (0, $88bf2e0188ca46c3$export$e62d9f5f4a94939)();\n    (0, $88bf2e0188ca46c3$export$fe4501d50e7230de)($eee667a316f6f5cc$var$map, $eee667a316f6f5cc$var$pixelRatio);\n});\nwindow.addEventListener(\"mousedown\", ()=>{\n    $eee667a316f6f5cc$var$isDown = true;\n});\nwindow.addEventListener(\"mouseup\", ()=>{\n    $eee667a316f6f5cc$var$isDown = false;\n    $eee667a316f6f5cc$var$pushUndo();\n});\n$eee667a316f6f5cc$var$canvas.addEventListener(\"touchend\", ()=>{\n    $eee667a316f6f5cc$var$isDown = false;\n    $eee667a316f6f5cc$var$pushUndo();\n});\n$eee667a316f6f5cc$var$canvas.addEventListener(\"touchstart\", (event)=>{\n    $eee667a316f6f5cc$var$isDown = true;\n    event.preventDefault();\n    [\n        ...event.targetTouches\n    ].forEach((touch)=>{\n        $eee667a316f6f5cc$var$handleEvent({\n            clientX: touch.clientX,\n            clientY: touch.clientY\n        });\n    });\n});\n$eee667a316f6f5cc$var$canvas.addEventListener(\"touchmove\", (event)=>{\n    event.preventDefault();\n    $eee667a316f6f5cc$var$isDown = true;\n    [\n        ...event.targetTouches\n    ].forEach((touch)=>{\n        $eee667a316f6f5cc$var$handleEvent({\n            clientX: touch.clientX,\n            clientY: touch.clientY\n        });\n    });\n});\nwindow.addEventListener(\"touchend\", (event)=>{\n    if (event.timeStamp - $eee667a316f6f5cc$var$lastTouchEnd <= 500) {\n        event.preventDefault();\n        const targetElement = event.target;\n        targetElement.click();\n    }\n    $eee667a316f6f5cc$var$isDown = false;\n    $eee667a316f6f5cc$var$lastTouchEnd = event.timeStamp;\n});\n\n})();\n//# sourceMappingURL=index.6e63fa67.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(require('./helpers/bundle-url').getBundleURL('e0M7J'),JSON.parse(\"[\\\"e0M7J\\\",\\\"index.6e63fa67.js\\\",\\\"hNqs3\\\",\\\"4.b7f0690e.png\\\",\\\"6dFNL\\\",\\\"1.6fdf6571.png\\\",\\\"gAros\\\",\\\"2.e3c532bb.png\\\"]\"));","import onePng from \"./assets/1.png\";\nimport twoPng from \"./assets/2.png\";\nimport fourPng from \"./assets/4.png\";\nimport { cleanMap, drawGuide, renderHover, renderMap, setBorder } from \"./src/render\";\nimport { editorRatio, tileSize } from \"./src/state\";\nimport { getLoc, newGrid, rotationSet, setLoc } from \"./src/utils\";\n\nconst penElement = document.getElementById(\"pen\") as HTMLInputElement;\nconst eraserElement = document.getElementById(\"eraser\") as HTMLInputElement;\nconst symmetryElement = document.getElementById(\"symmetry\") as HTMLInputElement;\nconst undoElement = document.getElementById(\"undo\") as HTMLInputElement;\nconst scaleElement = document.getElementById(\"scale\") as HTMLInputElement;\nconst colorPicker = document.getElementById(\"color\") as HTMLInputElement;\n\nconst frame = document.getElementById(\"editor-frame\") as HTMLInputElement;\nconst canvas = document.getElementById(\"editor\") as HTMLInputElement;\nconst guideCanvas = document.getElementById(\"guide\") as HTMLInputElement;\nconst renderCanvas = document.getElementById(\"render\") as HTMLInputElement;\n\ncanvas.width = tileSize * editorRatio * 3;\ncanvas.height = tileSize * editorRatio * 3;\nguideCanvas.width = tileSize * editorRatio * 3;\nguideCanvas.height = tileSize * editorRatio * 3;\n\nlet sizeIndex = 2;\nconst sizeList = [1, 2, 4];\nconst pngList = [onePng, twoPng, fourPng];\nlet pixelRatio = sizeList[sizeIndex];\nlet lastTouchEnd = 0;\n\nrenderCanvas.width = tileSize * pixelRatio * 3;\nrenderCanvas.height = tileSize * pixelRatio * 3;\n\nscaleElement.addEventListener(\"click\", () => {\n  sizeIndex = (sizeIndex + 1) % sizeList.length;\n  scaleElement.src = pngList[sizeIndex];\n  pixelRatio = sizeList[sizeIndex];\n  renderCanvas.width = tileSize * pixelRatio * 3;\n  renderCanvas.height = tileSize * pixelRatio * 3;\n  renderMap(map, pixelRatio);\n  setBorder(map, pixelRatio);\n  updateFrameHeight();\n});\n\nexport const appState = {\n  paintColor: \"#000000\",\n};\n\nif (colorPicker) {\n  colorPicker.addEventListener(\"input\", (e) => {\n    const input = e.target as HTMLInputElement;\n    appState.paintColor = input.value;\n    renderMap(map, pixelRatio);\n    setBorder(map, pixelRatio);\n  });\n} else {\n  console.error(\"Color picker element not found\");\n}\n\nfunction updateFrameHeight() {\n  frame.style.height = `${canvas.getBoundingClientRect().width}px`;\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", updateFrameHeight);\nwindow.addEventListener(\"resize\", updateFrameHeight);\n\nlet isDown = false;\nlet isErasing = false;\nlet rotationalSymmetry = true;\n\nsymmetryElement.addEventListener(\"click\", () => {\n  rotationalSymmetry = !rotationalSymmetry;\n  symmetryElement.classList.toggle(\"selected\");\n});\n\neraserElement.addEventListener(\"click\", () => {\n  isErasing = true;\n  eraserElement.classList.add(\"selected\");\n  penElement.classList.remove(\"selected\");\n});\n\npenElement.addEventListener(\"click\", () => {\n  isErasing = false;\n  penElement.classList.add(\"selected\");\n  eraserElement.classList.remove(\"selected\");\n});\n\nlet map = newGrid();\nlet undoStack = [JSON.stringify(map)];\n\nfunction pushUndo() {\n  const candidate = JSON.stringify(map);\n  const top = undoStack[undoStack.length - 1];\n  if (candidate === top) return;\n\n  undoStack.push(candidate);\n  if (undoStack.length > 50) undoStack.shift();\n  undoElement.classList.add(\"selected\");\n}\n\nfunction popUndo() {\n  undoStack.pop();\n  const old = undoStack[undoStack.length - 1];\n  if (old) {\n    map = JSON.parse(old);\n    cleanMap();\n    renderMap(map, pixelRatio);\n    setBorder(map, pixelRatio);\n  }\n}\n\nundoElement.addEventListener(\"click\", (event) => {\n  popUndo();\n  if (undoStack.length < 2) undoElement.classList.remove(\"selected\");\n  event.preventDefault();\n});\n\ndrawGuide();\nrenderMap(map, pixelRatio);\nsetBorder(map, pixelRatio);\n\nfunction draw(loc, v) {\n  if (isDown) setLoc(map, loc, 1 - v);\n}\n\nfunction handleEvent(event, isClick = false, isHover = false) {\n  const { left, top, width, height } = canvas.getBoundingClientRect();\n  const x = event.clientX - left;\n  const y = event.clientY - top;\n  const canvasX = (x / width) * canvas.width;\n  const canvasY = (y / height) * canvas.height;\n  const gridX = Math.floor(canvasX / editorRatio);\n  const gridY = Math.floor(canvasY / editorRatio);\n\n  const rotatePairs = rotationalSymmetry ? rotationSet([gridX, gridY]) : [[gridX, gridY]];\n\n  cleanMap();\n\n  rotatePairs.forEach(([gX, gY]) => {\n    const sx = Math.floor(gX / tileSize);\n    const sy = Math.floor(gY / tileSize);\n    const cx = gX % tileSize;\n    const cy = gY % tileSize;\n    const loc = [sx, sy, cx, cy];\n\n    if (sx < 0 || sx > 2 || sy < 0 || sy > 2) return;\n    if (isHover) renderHover(map, loc);\n    let v = getLoc(map, loc);\n\n    if (!isClick) v = 0;\n    if (isErasing) v = 1;\n    draw(loc, v);\n  });\n  renderMap(map, pixelRatio);\n  setTimeout(() => setBorder(map, pixelRatio), 0);\n}\n\ncanvas.addEventListener(\"mousedown\", (event) => {\n  isDown = true;\n  handleEvent(event, true);\n});\ncanvas.addEventListener(\"mousemove\", (event) => {\n  handleEvent(event, false, true);\n});\ncanvas.addEventListener(\"mouseout\", () => {\n  cleanMap();\n  renderMap(map, pixelRatio);\n});\nwindow.addEventListener(\"mousedown\", () => {\n  isDown = true;\n});\nwindow.addEventListener(\"mouseup\", () => {\n  isDown = false;\n  pushUndo();\n});\ncanvas.addEventListener(\"touchend\", () => {\n  isDown = false;\n  pushUndo();\n});\ncanvas.addEventListener(\"touchstart\", (event) => {\n  isDown = true;\n  event.preventDefault();\n  [...event.targetTouches].forEach((touch) => {\n    handleEvent({ clientX: touch.clientX, clientY: touch.clientY } as MouseEvent);\n  });\n});\ncanvas.addEventListener(\"touchmove\", (event) => {\n  event.preventDefault();\n  isDown = true;\n  [...event.targetTouches].forEach((touch) => {\n    handleEvent({ clientX: touch.clientX, clientY: touch.clientY } as MouseEvent);\n  });\n});\nwindow.addEventListener(\"touchend\", (event) => {\n  if (event.timeStamp - lastTouchEnd <= 500) {\n    event.preventDefault();\n    const targetElement = event.target as HTMLElement;\n    targetElement.click();\n  }\n  isDown = false;\n  lastTouchEnd = event.timeStamp;\n});\n","module.exports = require('./helpers/bundle-url').getBundleURL('e0M7J') + \"1.6fdf6571.png\";","module.exports = require('./helpers/bundle-url').getBundleURL('e0M7J') + \"2.e3c532bb.png\";","module.exports = require('./helpers/bundle-url').getBundleURL('e0M7J') + \"4.b7f0690e.png\";","import copy from \"copy-to-clipboard\";\nimport { editorRatio, tileSize } from \"./state\";\nimport { getLoc } from \"./utils\";\nimport { appState } from \"../index\";\n\nconst target = document.getElementById(\"target\") as HTMLElement;\nconst canvas = document.getElementById(\"editor\") as HTMLCanvasElement;\nconst guideCanvas = document.getElementById(\"guide\") as HTMLCanvasElement;\nconst renderCanvas = document.getElementById(\"render\") as HTMLCanvasElement;\n\nconst ctx = canvas.getContext(\"2d\")!;\nconst guideCtx = guideCanvas.getContext(\"2d\")!;\nconst renderCtx = renderCanvas.getContext(\"2d\")!;\n\nif (!ctx || !renderCtx || !guideCtx) {\n  throw new Error(\"Canvas context could not be retrieved\");\n}\n\nrenderCtx.imageSmoothingEnabled = false;\n\nfunction cleanMap() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nfunction renderMap(map: number[][][][], pixelRatio: number) {\n  renderCtx.fill();\n\n  for (let sx = 0; sx < 3; sx++) {\n    for (let sy = 0; sy < 3; sy++) {\n      for (let cx = 0; cx < tileSize; cx++) {\n        for (let cy = 0; cy < tileSize; cy++) {\n          const v = getLoc(map, [sx, sy, cx, cy]);\n          const fillColor = v === 1 ? appState.paintColor : \"#fff0\";\n\n          ctx.fillStyle = fillColor;\n          renderCtx.fillStyle = fillColor;\n          const gridX = (sx * tileSize + cx) * pixelRatio;\n          const gridY = (sy * tileSize + cy) * pixelRatio;\n\n          if (!(sx === 1 && sy === 1)) {\n            renderCtx.clearRect(gridX, gridY, pixelRatio, pixelRatio);\n            renderCtx.fillRect(gridX, gridY, pixelRatio, pixelRatio);\n            const adjustedGridX = (gridX * editorRatio) / pixelRatio;\n            const adjustedGridY = (gridY * editorRatio) / pixelRatio;\n            ctx.fillRect(adjustedGridX + 1, adjustedGridY + 1, editorRatio - 1, editorRatio - 1);\n          }\n        }\n      }\n    }\n  }\n  renderVector(map, pixelRatio);\n}\nfunction drawGuide() {\n  for (let index = 1; index < 3; index++) {\n    guideCtx.strokeStyle = \"#33f\";\n    guideCtx.lineWidth = 0.5;\n    let x = (index * canvas.width) / 3;\n    guideCtx.beginPath();\n    guideCtx.moveTo(x, 0);\n    guideCtx.lineTo(x, canvas.height);\n    guideCtx.stroke();\n    guideCtx.beginPath();\n    guideCtx.moveTo(0, x);\n    guideCtx.lineTo(canvas.height, x);\n    guideCtx.stroke();\n  }\n\n  for (let index = 0.0; index < 3 * tileSize; index++) {\n    guideCtx.strokeStyle = \"#ccc\";\n    let x = (index * canvas.width) / (3 * tileSize);\n    guideCtx.beginPath();\n    guideCtx.moveTo(x, 0);\n    guideCtx.lineTo(x, canvas.height);\n    guideCtx.stroke();\n    guideCtx.beginPath();\n    guideCtx.moveTo(0, x);\n    guideCtx.lineTo(canvas.height, x);\n    guideCtx.stroke();\n  }\n  let third = canvas.width / 3;\n  guideCtx.clearRect(third + 1, third + 1, third - 2, third - 2);\n  guideCtx.beginPath();\n  guideCtx.moveTo(third * 1, third * 2);\n  guideCtx.lineTo(third * 2, third * 1);\n  guideCtx.stroke();\n  guideCtx.beginPath();\n  guideCtx.moveTo(third * 1, third * 1);\n  guideCtx.lineTo(third * 2, third * 2);\n  guideCtx.stroke();\n}\n\nfunction setBorder(map: number[][][][], pixelRatio: number) {\n  let dataURI = renderVector(map, pixelRatio);\n  let style = <HTMLStyleElement>document.getElementById(\"border-style\");\n  if (style) style.remove();\n  style = document.createElement(\"style\");\n  style.id = \"border-style\";\n  document.head.appendChild(style);\n  if (!style.sheet) {\n    throw new Error(\"Style sheet could not be retrieved\");\n  }\n  let viewsize = tileSize * pixelRatio;\n  let css = `.bordy {\n    border-image:  url(\"${dataURI}\") ${viewsize} /  ${viewsize}px / 0 round;\n    border-width:  ${viewsize}px;\n    border-style:  solid;\n}`;\n  style.sheet.insertRule(css);\n  44;\n  target.textContent = css;\n}\nfunction svgToDataURL(svgStr: string): string {\n  const encoded = encodeURIComponent(svgStr).replace(/'/g, \"%27\").replace(/\"/g, \"%22\");\n  const header = \"data:image/svg+xml,\";\n  const dataUrl = header + encoded;\n  return dataUrl;\n}\n\nfunction renderVector(map: number[][][][], pixelRatio: number): string {\n  let content = `<svg \n      width=\"${tileSize * pixelRatio * 3}px\"\n      height=\"${tileSize * pixelRatio * 3}px\"\n      viewBox=\"0 0 ${tileSize * pixelRatio * 3} ${tileSize * pixelRatio * 3}\" \n      fill=\"${appState.paintColor}\"\n      stroke=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      >`;\n  for (let sx = 0; sx < 3; sx++) {\n    for (let sy = 0; sy < 3; sy++) {\n      for (let cx = 0; cx < tileSize; cx++) {\n        for (let cy = 0; cy < tileSize; cy++) {\n          let v = getLoc(map, [sx, sy, cx, cy]);\n\n          let gridX = (sx * tileSize + cx) * pixelRatio;\n          let gridY = (sy * tileSize + cy) * pixelRatio;\n\n          if (sx == 1 && sy == 1) {\n            continue;\n          }\n\n          if (v == 1) {\n            content += `<rect x=\"${gridX}\" y=\"${gridY}\" width=\"${pixelRatio}px\" height=\"${pixelRatio}px\"/>`;\n          }\n        }\n      }\n    }\n  }\n  content += \"</svg>\";\n  let dataURI = svgToDataURL(content);\n  return dataURI;\n}\nfunction renderHover(map: any[][][][], loc: number[]) {\n  let x = loc[0] * tileSize + loc[2];\n  let y = loc[1] * tileSize + loc[3];\n  ctx.fillStyle = getLoc(map, loc) == 1 ? \"#dde\" : \"#dde\";\n  if (loc[0] == 1 && loc[1] == 1) {\n    return;\n  }\n  ctx.fillRect(x * editorRatio + 0, y * editorRatio + 0, editorRatio - 0, editorRatio - 0);\n}\n\ntarget.addEventListener(\"click\", copyTarget);\nfunction resetCopy() {\n  target.setAttribute(\"data-after\", \"[Click to copy]\");\n}\n\nresetCopy();\n\nfunction copyTarget() {\n  const textToCopy = target.textContent || \"\";\n  copy(textToCopy, { message: \"Press #{key} to copy css\" });\n  target.setAttribute(\"data-after\", \"Copied to your clipboard!\");\n  target.classList.remove(\"flash\");\n\n  window.setTimeout(() => {\n    target.classList.add(\"flash\");\n  }, 1);\n  window.setTimeout(resetCopy, 2500);\n}\nexport { renderMap, drawGuide, setBorder, renderHover, cleanMap };\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\"\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","var tileSize = 7;\nvar editorRatio = 16;\n\nexport {tileSize, editorRatio};\n","import { tileSize } from \"./state\";\n\nfunction newCell(): number[][] {\n  return Array.from({ length: tileSize }, () => new Array(tileSize).fill(0));\n}\n\nfunction newGrid(): number[][][][] {\n  return Array.from({ length: 3 }, () => Array.from({ length: 3 }, () => newCell()));\n}\n\nfunction randomInt(min: number, max?: number): number {\n  if (max === undefined) {\n    max = min;\n    min = 0;\n  }\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction randomLoc(): number[] {\n  return [randomInt(3), randomInt(3), randomInt(tileSize), randomInt(tileSize)];\n}\n\nfunction rotatePair([x, y]: number[]): number[] {\n  let gridSize = 3 * tileSize;\n  return [gridSize - y, x];\n}\n\nfunction rotationSet([x, y]: number[], n: number = 1): number[][] {\n  let gridSize = 3 * tileSize - 1;\n  return [\n    [x, y],\n    [gridSize - y, x],\n    [gridSize - x, gridSize - y],\n    [y, gridSize - x],\n  ];\n}\n\nfunction getLoc(map: number[][][][], loc: number[]): number {\n  let result = loc.reduce((acc, val) => acc[val], map as any);\n  return typeof result === \"number\" ? result : 0;\n}\n\nfunction setLoc(map: number[][][][], loc: number[], v: number = 1): void {\n  let target: any = map;\n\n  for (let i = 0; i < loc.length - 1; i++) {\n    target = target[loc[i]];\n  }\n\n  if (Array.isArray(target) && typeof loc[loc.length - 1] === \"number\") {\n    target[loc[loc.length - 1]] = v;\n  } else {\n    throw new Error(\"Invalid location or target array\");\n  }\n}\n\nexport { newGrid, randomLoc, randomInt, getLoc, setLoc, rotatePair, rotationSet };\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$fca158e7bc793dc7$export$6503ec6e8aabbaf","$fca158e7bc793dc7$var$mapping","Map","baseUrl","manifest","i","length","path","$0d1f42a1cefd465e$export$bdfd709ae4826697","$0d1f42a1cefd465e$var$bundleURL","value","$0d1f42a1cefd465e$var$getBundleURL","matches","stack","match","replace","getBundleURL","JSON","parse","$d7956d6ff1687a6e$exports","$27171c54b76a1854$exports","$094b358704653867$exports","$0f23d1886f02ec64$exports","$ad8f2a4aa380ad99$exports","selection","document","getSelection","rangeCount","active","activeElement","ranges","push","getRangeAt","tagName","toUpperCase","blur","removeAllRanges","type","forEach","range","addRange","focus","$0f23d1886f02ec64$var$clipboardToIE11Formatting","$6c182388e9a195e9$export$1e9173ebc1b84b","map","loc","result","reduce","acc","val","text","options","message","copyKey","debug","reselectPrevious","mark","success","createRange","createElement","textContent","ariaHidden","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","stopPropagation","format","preventDefault","clipboardData","console","warn","clearData","setData","onCopy","body","appendChild","selectNodeContents","execCommand","error","test","navigator","userAgent","prompt","removeRange","removeChild","$88bf2e0188ca46c3$var$target","getElementById","$88bf2e0188ca46c3$var$canvas","$88bf2e0188ca46c3$var$guideCanvas","$88bf2e0188ca46c3$var$renderCanvas","$88bf2e0188ca46c3$var$ctx","getContext","$88bf2e0188ca46c3$var$guideCtx","$88bf2e0188ca46c3$var$renderCtx","$88bf2e0188ca46c3$export$e62d9f5f4a94939","clearRect","width","height","$88bf2e0188ca46c3$export$fe4501d50e7230de","pixelRatio","fill","sx","sy","cx","cy","fillColor","$eee667a316f6f5cc$export$b72e390a9ebe1648","paintColor","fillStyle","gridX","gridY","fillRect","adjustedGridX","adjustedGridY","$88bf2e0188ca46c3$var$renderVector","$88bf2e0188ca46c3$export$df6de19f3e6baa52","dataURI","remove","head","sheet","viewsize","css","insertRule","content","header","encodeURIComponent","$88bf2e0188ca46c3$var$resetCopy","setAttribute","imageSmoothingEnabled","textToCopy","classList","setTimeout","add","$eee667a316f6f5cc$var$penElement","$eee667a316f6f5cc$var$eraserElement","$eee667a316f6f5cc$var$symmetryElement","$eee667a316f6f5cc$var$undoElement","$eee667a316f6f5cc$var$scaleElement","$eee667a316f6f5cc$var$colorPicker","$eee667a316f6f5cc$var$frame","$eee667a316f6f5cc$var$canvas","$eee667a316f6f5cc$var$guideCanvas","$eee667a316f6f5cc$var$renderCanvas","$eee667a316f6f5cc$var$sizeIndex","$eee667a316f6f5cc$var$sizeList","$eee667a316f6f5cc$var$pngList","$eee667a316f6f5cc$var$pixelRatio","$eee667a316f6f5cc$var$lastTouchEnd","src","$eee667a316f6f5cc$var$map","$eee667a316f6f5cc$var$updateFrameHeight","getBoundingClientRect","input","target","$eee667a316f6f5cc$var$isDown","$eee667a316f6f5cc$var$isErasing","$eee667a316f6f5cc$var$rotationalSymmetry","toggle","Array","from","$eee667a316f6f5cc$var$undoStack","stringify","$eee667a316f6f5cc$var$pushUndo","candidate","shift","$eee667a316f6f5cc$var$handleEvent","event","isClick","isHover","left","x","clientX","y","clientY","canvasX","canvasY","Math","floor","rotatePairs","gridSize","gX","gY","isArray","$eee667a316f6f5cc$var$popUndo","pop","old","index","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","third","targetTouches","touch","timeStamp","targetElement","click"],"version":3,"file":"index.6e63fa67.js.map"}